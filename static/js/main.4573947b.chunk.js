(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{104:function(t,e,n){},105:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),a=n(23),u=n.n(a),o=n(11),i=n(20),s=n(67),l=n(47),b=n(48),f=n(51),g=n(49),d=n(5),m=n(9),h=n(44),O=n.n(h),j="/",p="/contacts",E="/login",v="/register",C=function(t){var e=t.isAuthenticated;return c.a.createElement("nav",null,e&&c.a.createElement(i.b,{to:p,exact:!0,className:O.a.link,activeClassName:O.a.activeLink},"Phonebook"))},k=Object(o.b)((function(t){return{isAuthenticated:m.c.getIsAuthenticated(t)}}))(C),S=n(120),_=n(40),U=n.n(_),A=function(t){var e=t.avatar,n=t.name,r=t.onLogout;return c.a.createElement("div",{className:U.a.container},c.a.createElement("img",{src:e,alt:"avatar",width:"30",className:U.a.avatar}),c.a.createElement("span",{className:U.a.name},n," "),c.a.createElement(S.a,{type:"button",onClick:r,variant:"contained",color:"primary"},"Logout"))},y=n(68),L=n.n(y),q={onLogout:m.a.logOut},R=Object(o.b)((function(t){return{name:m.c.getUsername(t),avatar:L.a}}),q)(A),N=n(33),x=n.n(N),w=function(){return c.a.createElement("div",null,c.a.createElement(i.b,{to:v,exact:!0,className:x.a.link,activeClassName:x.a.activeLink},"Registration"),c.a.createElement(i.b,{to:E,exact:!0,className:x.a.link,activeClassName:x.a.activeLink},"Login"))},T=n(69),z=n.n(T),I=function(t){var e=t.isAuthenticated;return c.a.createElement("header",{className:z.a.header},c.a.createElement(k,null),e?c.a.createElement(R,null):c.a.createElement(w,null))},M=Object(o.b)((function(t){return{isAuthenticated:m.c.getIsAuthenticated(t)}}))(I),J=n(65),B=n(36),G=Object(o.b)((function(t){return{isAuthenticated:m.c.getIsAuthenticated(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,r=t.redirectTo,a=Object(B.a)(t,["component","isAuthenticated","redirectTo"]);return c.a.createElement(d.b,Object.assign({},a,{render:function(t){return n?c.a.createElement(e,t):c.a.createElement(d.a,{to:r})}}))})),P=Object(o.b)((function(t){return{isAuthenticated:m.c.getIsAuthenticated(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,r=t.redirectTo,a=Object(B.a)(t,["component","isAuthenticated","redirectTo"]);return c.a.createElement(d.b,Object.assign({},a,{render:function(t){return n&&a.restricted?c.a.createElement(d.a,{to:r}):c.a.createElement(e,t)}}))})),F=Object(r.lazy)((function(){return n.e(1).then(n.bind(null,181))})),D=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(8),n.e(4)]).then(n.bind(null,178))})),V=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,179))})),Y=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,180))})),H=function(t){Object(f.a)(n,t);var e=Object(g.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurretnUser()}},{key:"render",value:function(){return c.a.createElement(J.a,null,c.a.createElement(M,null),c.a.createElement(r.Suspense,{fallback:c.a.createElement("p",null,"Loading...")},c.a.createElement(d.d,null,c.a.createElement(d.b,{exact:!0,path:j,component:F}),c.a.createElement(P,{path:v,restricted:!0,redirectTo:p,component:V}),c.a.createElement(P,{path:E,restricted:!0,redirectTo:p,component:Y}),c.a.createElement(G,{path:p,redirectTo:E,component:D}))))}}]),n}(r.Component),K={onGetCurretnUser:m.a.getCurrentUser},Q=Object(o.b)(null,K)(H),W=n(39),X=n(2),Z=n(22),$=n(71),tt=n.n($),et=n(50),nt=Object(W.a)(Object(X.d)({serializableCheck:{ignoredActions:[Z.a,Z.f,Z.b,Z.c,Z.d,Z.e]}})),rt={key:"auth",storage:tt.a,whitelist:["token"]},ct=Object(X.a)({reducer:{auth:Object(Z.g)(rt,m.b),contacts:et.c},middleware:nt,devTools:!1}),at={store:ct,persistor:Object(Z.h)(ct)};n(103),n(104);u.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(o.a,{store:at.store},c.a.createElement(s.a,{loading:null,persistor:at.persistor},c.a.createElement(i.a,null,c.a.createElement(Q,null))))),document.getElementById("root"))},33:function(t,e,n){t.exports={link:"AuthNav_link__1JJ5t",activeLink:"AuthNav_activeLink__2sqTx"}},40:function(t,e,n){t.exports={container:"UserMenu_container__868co",name:"UserMenu_name__2hBJw",avatar:"UserMenu_avatar__3YqSG"}},44:function(t,e,n){t.exports={link:"Navigation_link__E38-9",activeLink:"Navigation_activeLink__1-LUM"}},50:function(t,e,n){"use strict";n.d(e,"b",(function(){return j})),n.d(e,"d",(function(){return C})),n.d(e,"a",(function(){return O})),n.d(e,"c",(function(){return q}));var r,c,a=n(16),u=n.n(a),o=n(2),i=Object(o.b)("contacts/fetchContactsRequest"),s=Object(o.b)("contacts/fetchContactsSucces"),l=Object(o.b)("contacts/fetchContactsError"),b=Object(o.b)("contacts/addContactsRequest"),f=Object(o.b)("contacts/addContactsSucces"),g=Object(o.b)("contacts/addContactsError"),d=Object(o.b)("contacts/deleteContactsRequest"),m=Object(o.b)("contacts/deleteContactsSucces"),h=Object(o.b)("contacts/deleteContactsError"),O=Object(o.b)("contacts/changeFilter"),j={addContact:function(t){var e=t.name,n=t.number;return function(t){var r={name:e,number:n};t(b()),u.a.post("/contacts",r).then((function(e){var n=e.data;return t(f(n))})).catch((function(e){return t(g(e.message))}))}},deleteContact:function(t){return function(e){e(d()),u.a.delete("/contacts/".concat(t)).then((function(){return e(m(t))})).catch((function(t){return e(h(t.message))}))}},fetchContacts:function(){return function(t){t(i()),u.a.get("/contacts").then((function(e){var n=e.data;return t(s(n))})).catch((function(e){return t(l(e.message))}))}}},p=n(19),E=function(t){return t.contacts.filter},v=function(t){return t.contacts.items},C={getLoading:function(t){return t.contacts.loading},getFilter:E,getVisibleContacts:Object(p.a)([v,E],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),getExistingContactsName:Object(p.a)([v],(function(t){if(t.length>=0)return t.map((function(t){return t.name.toLowerCase()}))}))},k=n(3),S=n(39),_=n(7),U=Object(o.c)([],(r={},Object(k.a)(r,s,(function(t,e){return e.payload})),Object(k.a)(r,f,(function(t,e){var n=e.payload;return[].concat(Object(S.a)(t),[n])})),Object(k.a)(r,m,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),r)),A=Object(o.c)("",Object(k.a)({},O,(function(t,e){return e.payload}))),y=Object(o.c)(!1,(c={},Object(k.a)(c,b,(function(){return!0})),Object(k.a)(c,f,(function(){return!1})),Object(k.a)(c,g,(function(){return!1})),Object(k.a)(c,d,(function(){return!0})),Object(k.a)(c,m,(function(){return!1})),Object(k.a)(c,h,(function(){return!1})),Object(k.a)(c,i,(function(){return!0})),Object(k.a)(c,s,(function(){return!1})),Object(k.a)(c,l,(function(){return!1})),c)),L=Object(o.c)(null,{}),q=Object(_.c)({items:U,filter:A,loading:y,error:L})},65:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0),c=n.n(r),a=n(70),u=n.n(a),o=function(t){var e=t.children;return c.a.createElement("div",{className:u.a.Container},e)}},68:function(t,e,n){t.exports=n.p+"static/media/defaultAvatar.dfead413.png"},69:function(t,e,n){t.exports={header:"AppBar_header__3UU_E"}},70:function(t,e,n){t.exports={Container:"Container_Container__3kpiG"}},74:function(t,e,n){t.exports=n(105)},9:function(t,e,n){"use strict";n.d(e,"b",(function(){return k})),n.d(e,"a",(function(){return y})),n.d(e,"c",(function(){return L}));var r,c,a,u,o=n(2),i=Object(o.b)("auth/registerRequest"),s=Object(o.b)("auth/registerSuccess"),l=Object(o.b)("auth/registerError"),b=Object(o.b)("auth/loginRequest"),f=Object(o.b)("auth/loginSuccess"),g=Object(o.b)("auth/loginError"),d={registerRequest:i,registerSuccess:s,registerError:l,logoutRequest:Object(o.b)("auth/logoutRequest"),logoutSuccess:Object(o.b)("auth/logoutSuccess"),logoutError:Object(o.b)("auth/logoutError"),loginRequest:b,loginSuccess:f,loginError:g,getCurrentUserRequest:Object(o.b)("auth/getCurrentUserRequest"),getCurrentUserSuccess:Object(o.b)("auth/getCurrentUserSuccess"),getCurrentUserError:Object(o.b)("auth/getCurrentUserError")},m=n(3),h=n(7),O={name:null,email:null},j=Object(o.c)(O,(r={},Object(m.a)(r,d.registerSuccess,(function(t,e){return e.payload.user})),Object(m.a)(r,d.loginSuccess,(function(t,e){return e.payload.user})),Object(m.a)(r,d.logoutSuccess,(function(){return O})),Object(m.a)(r,d.getCurrentUserSuccess,(function(t,e){return e.payload})),r)),p=Object(o.c)(null,(c={},Object(m.a)(c,d.registerSuccess,(function(t,e){return e.payload.token})),Object(m.a)(c,d.loginSuccess,(function(t,e){return e.payload.token})),Object(m.a)(c,d.logoutSuccess,(function(){return null})),c)),E=function(t,e){return e.payload},v=Object(o.c)(null,(a={},Object(m.a)(a,d.registerError,E),Object(m.a)(a,d.loginError,E),Object(m.a)(a,d.logoutError,E),Object(m.a)(a,d.getCurrentUserError,E),a)),C=Object(o.c)(!1,(u={},Object(m.a)(u,d.registerSuccess,(function(){return!0})),Object(m.a)(u,d.loginSuccess,(function(){return!0})),Object(m.a)(u,d.getCurrentUserSuccess,(function(){return!0})),Object(m.a)(u,d.registerError,(function(){return!1})),Object(m.a)(u,d.loginError,(function(){return!1})),Object(m.a)(u,d.getCurrentUserError,(function(){return!1})),Object(m.a)(u,d.logoutSuccess,(function(){return!1})),u)),k=Object(h.c)({user:j,isAuthenticated:C,token:p,error:v}),S=n(16),_=n.n(S);_.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var U=function(t){_.a.defaults.headers.common.Authorization="Bearer ".concat(t)},A=function(){_.a.defaults.headers.common.Authorization=""},y={register:function(t){return function(e){e(d.registerRequest()),_.a.post("/users/signup",t).then((function(t){var n=t.data;return e(d.registerSuccess(n),U(n.token))})).catch((function(t){return e(d.registerError(t.message))}))}},logIn:function(t){return function(e){e(d.loginRequest()),_.a.post("/users/login",t).then((function(t){var n=t.data;return e(d.loginSuccess(n),U(n.token))})).catch((function(t){return e(d.loginError(t.message))}))}},logOut:function(){return function(t){t(d.logoutRequest()),_.a.post("/users/logout").then((function(){return t(d.logoutSuccess())}),A()).catch((function(e){return t(d.logoutError(e.message))}))}},getCurrentUser:function(){return function(t,e){var n=e().auth.token;n&&(U(n),t(d.getCurrentUserRequest()),_.a.get("/users/current").then((function(e){var n=e.data;return t(d.getCurrentUserSuccess(n))})).catch((function(e){return t(d.getCurrentUserError(e.message))})))}}},L={getIsAuthenticated:function(t){return t.auth.isAuthenticated},getUsername:function(t){return t.auth.user.name}}}},[[74,6,7]]]);
//# sourceMappingURL=main.4573947b.chunk.js.map